.data
array:  .word  1, -3, 4, -2, 6, -7,   
        .word 8, -9, 10, -11, 12, -13, 
        .word 14, 15, -16, -17, 18, -19, 
        .word 20, -21, 22, 23, -24, 25,
        .word -26, 27, 28, -29, 30, -31
newline: .asciiz "\n"               # Символ новой строки
pos_count: .word 0                  # Счётчик положительных
neg_count: .word 0                  # Счётчик отрицательных

.text
.globl main
main:
        la t0, array                # Загрузить адрес массива в t0
        li t1, 30                   # Количество элементов массива
        li t2, 0                    # Счётчик для цикла
        la t3, pos_count            # Адрес счётчика положительных
        la t4, neg_count            # Адрес счётчика отрицательных

loop:
        lw t5, 0(t0)                # Загрузить элемент массива в t5
        addi t0, t0, 4              # Увеличить адрес массива
        bgez t5, check_positive     # Если t5 >= 0, проверить на положительность
        lw t6, 0(t4)                # Загрузить текущее значение счётчика отрицательных
        addi t6, t6, 1              # Увеличить счётчик отрицательных
        sw t6, 0(t4)                # Сохранить обновлённое значение счётчика отрицательных
        j next

check_positive:
        bne t5, x0, update_pos      # Если t5 != 0, увеличить счётчик положительных
        j next

update_pos:
        lw t6, 0(t3)                # Загрузить текущее значение счётчика положительных
        addi t6, t6, 1              # Увеличить счётчик положительных
        sw t6, 0(t3)                # Сохранить обновлённое значение счётчика положительных

next:
        addi t2, t2, 1              # Увеличить счётчик цикла
        bne t2, t1, loop            # Если t2 != t1, продолжить

        # Вывод результата: положительных чисел
        li a0, 1                    # Номер вызова для вывода
        lw a1, 0(t3)                # Значение для вывода
        ecall

        # Вывод новой строки
        li a0, 4                    # Номер вызова для вывода строки
        la a1, newline              # Адрес символа новой строки
        ecall

        # Вывод результата: отрицательных чисел
        li a0, 1                    # Номер вызова для вывода
        lw a1, 0(t4)                # Значение для вывода
        ecall

        # Вывод новой строки
        li a0, 4                    # Номер вызова для вывода строки
        la a1, newline              # Адрес символа новой строки
        ecall

        # Завершение программы
        li a0, 10                   # Номер вызова для завершения программы
        ecall
